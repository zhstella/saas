<div class="main-content-container" id="index-page-container">

  <%# --- 1. 操作栏 --- %>
  <div class="action-bar-container">
    
    <%= form_with(url: posts_path, method: :get, class: "action-bar-search") do |form| %>
      <%= form.text_field :search, placeholder: "Search Posts" %>
      <button type="submit" class="search-button">
        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
        </svg>
      </button>
    <% end %>
    
    <%= link_to "Submit a Post", new_post_path, class: "btn-submit-question" %>
    
  </div>
  
  <%# --- 2. "Post List" 标题 --- %>
  <h2 class="post-list-title">Post List</h2>
  
  <div id="posts">
    <% @posts.each do |post| %>
      <%= link_to post_path(post), class: "post-card" do %>
        <div class="post-card-content">
          <h3 class="post-card-title"><%= post.title %></h3>
          
          <div class="post-card-meta">
            <span class="meta-author">By: <%= display_author(post.user, context: post) %></span>
            <span class="meta-time"><%= time_ago_in_words(post.created_at) %> ago</span>
            <% if post.expires_at.present? %>
              <span class="meta-expiry">Expires <%= time_ago_in_words(post.expires_at) %> from now</span>
            <% end %>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
  
</div>
